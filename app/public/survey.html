<!DOCTYPE html>

<html lan="en-us">

<head>
	<meta charset="utf-8">
	<title>DB Survey</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">

	<!-- <link rel="stylesheet" type="text/css" href="./bootstrap.min.css"> -->
	<!-- <link rel="stylesheet" type="text/css" href="./style.css"> -->

	<!-- 	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->

<!-- 	<script src="https://code.jquery.com/jquery-3.2.1.min.js"
	integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	crossorigin="anonymous"></script> -->


</head>

<body>

	<div class="container">
		
		<div class="row top-row">
			
			<div class="col-sm-12 col-md-12">
				<div class="jumbotron" id="id">
					<h1 class="text-center">Drinking Buddy Survey</h1>
					<h4>Find the drinking buddy that's right for you.</h4>

					<a href='/'><h2>Home</h2></a>
				</div><!--end of jumbotron-->
			</div><!--end of col-md-7-->

		</div><!--end of row-->

		<div class="row middle-row">
			<div class="col-sm-12">
				<div class="panel panel-primary">
					<div class="panel-body">
						<!-- Entry Form -->
						<form>
							<div class="form-group">
								<label for="name">Name (required)</label>
								<input class="form-control" id="name" maxlength="30" type="text">
							</div>

							<div class="form-group">
								<label for="photo">Link to photo (required)</label>
								<input class="form-control" id="photo" maxlength="150" type="text">
							</div>
							<br>

							<div class="col-xs-12">
								<h4>1. The music of Bach surpasses the music of Handel.</h4>
								<select class="select" id="s1">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>

								<h4>2. Mozart was the greatest composer to have ever lived.</h4>
								<select class="select" id="s2">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>


								<h4>3. Tchaikovsky's music is for those who are less informed.</h4>
								<select class="select" id="s3">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>


								<h4>4. The late string quartets of Beethoven go great with Jack Daniels.</h4>
								<select class="select" id="s4">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>


								<h4>5. The "Correli Clash" gives you goose bumps.</h4>
								<select class="select" id="s5">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>

								<h4>6. Dvorak's Symphony No. 8 far surpasses the "Symphony from the New World".</h4>
								<select class="select" id="s6">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>


								<h4>7. In the course of a day, you would not mind having to listen to all 32 of Beethoven's piano sonatas.</h4>
								<select class="select" id="s7">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>


								<h4>8. The recordings of Sir Neville Marriner and the Academy of St Martin-in-the-Fields give you perennial delight.</h4>
								<select class="select" id="s8">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>


								<h4>9. Modern violin playing has changed for the better.</h4>
								<select class="select" id="s9">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>


								<h4>10. In the various adagios of the great symphonic works, Leonard Bernstein's tempi were much too slow.</h4>
								<select class="select" id="s10">
									<option value="" disabled selected>Select an Option</option>
									<option value="1">1 (Strongly disagree)</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5 (Strongly agree)</option>
								</select>
								<br>
								<br>

							</div>
							<div class="row button-row">
								<div class="col-xs-2 col-xs-offset-1 input-column">
									<button class="btn btn-primary submit" id="add-friend-btn" type="submit">Submit</button>
									<br>

								</div>
							</div>
							
						</form>

					</div><!--end panel-body-->
					
					
				</div><!--end of panel-primary-->
				
			</div><!--end of col-md-5-->

		</div><!--end of row-->
<!-- begin modal -->

<div class="container">

  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Your Drinking Buddy:</h4>
        </div>
        <div class="modal-body">
          <h3 id='friend-name'></h3>
          <img id='friend-photo' alt='Photo not available.'>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
  
</div>


<!-- end modal -->




	</div><!--end of container-->





	<script src= "assets/javascript/jquery-3.2.1.min.js" type="text/javascript"></script>
	<script src= "assets/javascript/bootstrap.min.js" type="text/javascript"></script>
	<script type='text/javascript'>

		$('.submit').on('click', function(){
			event.preventDefault();
			var newFriend = {
				name: $('#name').val().trim(),
				photo: $('#photo').val().trim(),
				scores: [
				$('#s1').val(),
				$('#s2').val(),
				$('#s3').val(),
				$('#s4').val(),
				$('#s5').val(),
				$('#s6').val(),
				$('#s7').val(),
				$('#s8').val(),
				$('#s9').val(),
				$('#s10').val()
				]
			}

			var currentURL = window.location.origin;

			$.post(currentURL + '/api/friends', newFriend,
				function(data) {
					// run unnecessary function
					clearFields();

					if (data) {
						data.forEach(function(details) {
							$("#friend-name").text(details.name);
							$("#friend-photo").attr("src", details.photo);
							$("#myModal").modal('toggle');
						});

					}
				});
			$("#myModal").show();
		});

function clearFields (){
	$('#name').val('');
	$('#photo').val('');
	$('#s1').val('');
	$('#s2').val('');
	$('#s3').val('');
	$('#s4').val('');
	$('#s5').val('');
	$('#s6').val('');
	$('#s7').val('');
	$('#s8').val('');
	$('#s9').val('');
	$('#s10').val('');
}

	</script>


</body>
</html>